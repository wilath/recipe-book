<header>
   <!--<div class="header-group-one">
    <h1 class="header-title">Recipe Book</h1>

</div>
    <div class="header-group-two">
        <button class="button-alpha button-header button-recipes" *ngIf="isAuth" routerLink="/recipes" routerLinkActive="button-alpha-active">Recipes</button>
        <button class="button-alpha button-header button-shoppingList" *ngIf="isAuth" routerLink="/shopping-list" routerLinkActive="button-alpha-active">Shopping List</button>
        <button class="button-alpha button-header button-login" *ngIf="!isAuth" routerLink="/auth" routerLinkActive="button-alpha-active">Login</button>
        <button class="button-alpha button-header button-logout" *ngIf="isAuth" (click)="onLogout()">Logout</button>        
    </div>
  --> 
    <div class="panel left-panel">
        <div class="logo">
            <span>R</span>
        </div>
    </div>
    <div class="panel center-panel">
        <button class="nav-button" *ngIf="isAuth" routerLink="/microblog" routerLinkActive="nav-button-active"><div class="nav-button-desc">Microblog</div><i class="fa-solid fa-blog"></i></button>
        <button class="nav-button" *ngIf="isAuth" routerLink="/recipes" routerLinkActive="nav-button-active"><div class="nav-button-desc">Recipes</div><i class="fa-solid fa-book-open"></i></button>       
        <button class="nav-button" *ngIf="isAuth" routerLink="/user-panel" routerLinkActive="nav-button-active"><div class="nav-button-desc">Shopping list</div><i class="fa-solid fa-list-check"></i></button>
        <span class="marker" [ngClass]="setMarkerClass()"></span>
    </div>
  

   
    <div  class="panel right-panel">
        <div *ngIf="isAuth" class="user-logo">
            <h3>{{userData.name}}</h3>
            <button class="circle"></button>
        </div>
        <button [ngClass]="{'button-menu-active' : isNotificationMenuShown}" *ngIf="isAuth" class="circle notification" (click)="isNotificationMenuShown = !isNotificationMenuShown" >
            <i class="fa-solid fa-bell"></i>
            <div *ngIf="userData && userData.notifications && getUnshownNotificationsCount() > 0" class="notification-number">{{getUnshownNotificationsCount()}}</div>
        </button>
        <button *ngIf="isAuth" (click)="onLogout()" class="circle logout">
            <i class="fa-solid fa-right-from-bracket"></i>
        </button>
    </div>

    <div *ngIf="isNotificationMenuShown" class="notification-menu">
        <div class="notification-label">
            <h4>Notifications</h4>
            <div class="notification-filter">           
                    <label for="no-read">
                        New
                        <input type="radio" name="read" id="no-read" value="new" [(ngModel)]="notificationFilter" >
                    </label>
                    <label for="read">
                        All
                        <input type="radio" name="read" id="read" value="all" [(ngModel)]="notificationFilter">
                    </label>
                    <button [disabled]="getUnshownNotificationsCount() === 0 " type="button" (click)="clearNotifications()">Clear</button>         
            </div>
        </div>
            @for (item of userData.notifications  | filterShown : notificationFilter : notificationFilterFire ; track $index) {
                <a (click)="clearNotifications(item.date)">
                <div class="notification-post">
                    <img class="notification-image" src="https://t3.ftcdn.net/jpg/05/53/79/60/360_F_553796090_XHrE6R9jwmBJUMo9HKl41hyHJ5gqt9oz.jpg" alt="!">
                    <div>
                        <p class="notification-message">{{item.message}}</p>
                        <p class="notification-date">{{item.date | date:'short'}}</p>
                    </div>              
                </div>
            </a>
            } @empty {
                <div  class="notification-post">
                    <img src="https://www.clipartmax.com/png/middle/149-1491874_question-mark-comments-number-5-in-circle.png" class="notification-image" alt="?">
                    <div>
                        <p class="notifaction-message">You dont have any notfications</p>         
                    </div>  
                </div>
            }
           
               
    </div>

</header>

